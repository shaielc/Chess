[ ] fix defending functions
[ ] Add UI test
[ ] Add game controller tests